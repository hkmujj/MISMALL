GoTop=function(callback){this.config={pageWidth:960,nodeId:'go-top',nodeWidth:50,distanceToBottom:120,hideRegionHeight:90,text:'',isHidden:true};this.cache={topLinkThread:null};if(callback)this.callback=callback};GoTop.prototype={init:function(config){this.config=config||this.config;var _self=this;jQuery(window).scroll(function(){_self._scrollScreen({_self:_self})});jQuery(window).resize(function(){_self._resizeWindow({_self:_self})});_self._insertNode({_self:_self})},_insertNode:function(args){var _self=args._self;var topLink=jQuery('<a id="'+_self.config.nodeId+'" title="'+_self.config.text+'" href="javascript:void(0);">'+_self.config.text+'</a>');topLink.appendTo(jQuery('body'));topLink.click(function(){if(_self.callback){_self.callback()}else{var body=document.documentElement.scrollTop?document.documentElement:document.body;(function(){var top=parseInt(body.scrollTop,10);var height=top/2;var step=parseInt(body.scrollTop,10)-height;if(step<5)step=0;body.scrollTop=step;if(step)setTimeout(arguments.callee,50)})();return false}});var right=_self._getDistanceToBottom({_self:_self});if(/MSIE 6/i.test(navigator.userAgent)){if(_self.config.isHidden){topLink.css({'display':'none','position':'absolute','right':right+'px'})}else{topLink.css({'display':'block','position':'absolute','right':right+'px'})}}else{if(_self.config.isHidden){topLink.css({'display':'none','position':'fixed','right':right+'px','top':(jQuery(window).height()-_self.config.distanceToBottom)+'px'})}else{topLink.css({'display':'block','position':'fixed','right':right+'px','top':(jQuery(window).height()-_self.config.distanceToBottom)+'px'})}}},_scrollScreen:function(args){var _self=args._self;var topLink=jQuery('#'+_self.config.nodeId);if(jQuery(document).scrollTop()<=_self.config.hideRegionHeight){clearTimeout(_self.cache.topLinkThread);if(_self.config.isHidden)topLink.hide();return}if(/MSIE 6/i.test(navigator.userAgent)){clearTimeout(_self.cache.topLinkThread);if(_self.config.isHidden)topLink.hide();_self.cache.topLinkThread=setTimeout(function(){var top=jQuery(document).scrollTop()+jQuery(window).height()-_self.config.distanceToBottom;topLink.css({'top':top+'px'}).fadeIn()},400)}else{topLink.fadeIn()}},_resizeWindow:function(args){var _self=args._self;var topLink=jQuery('#'+_self.config.nodeId);var right=_self._getDistanceToBottom({_self:_self});var top=jQuery(window).height()-_self.config.distanceToBottom;if(/MSIE 6/i.test(navigator.userAgent)){top+=jQuery(document).scrollTop()}topLink.css({'right':right+'px','top':top+'px'})},_getDistanceToBottom:function(args){var _self=args._self;var right=parseInt((jQuery(window).width()-_self.config.pageWidth)/2-_self.config.nodeWidth-20,10);if(right<10){right=10}return right}};